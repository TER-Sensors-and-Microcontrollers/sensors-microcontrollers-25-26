# racing-can.service
# Electric Racing CAN Processor Service

[Unit]
Description=Electric Racing CAN Bus Processor
After=network.target

[Service]
Type=simple

# Run as root (required for CAN configuration)
User=root
Group=root

# Adjust this to your ACTUAL project path
WorkingDirectory=/home/racing/sensors-microcontrollers-25-26/onboard-rpi/racingDisplay

# Setup CAN before starting processor
ExecStartPre=/home/racing/sensors-microcontrollers-25-26/onboard-rpi/racingDisplay/scripts/setup_can.sh can0 250000

# Start CAN processor
ExecStart=/usr/bin/python3 /home/racing/sensors-microcontrollers-25-26/onboard-rpi/racingDisplay/core/can_processor.py

Restart=always
RestartSec=3

StandardOutput=journal
StandardError=journal
SyslogIdentifier=racing-can

[Install]
WantedBy=multi-user.target
