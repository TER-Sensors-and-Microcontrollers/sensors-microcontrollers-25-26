<!-- Front page HTML -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <title> Flask App </title>
        <link rel = "stylesheet" type= "text/css" href = " {{ url_for('static', filename = 'style.css') }}">
    </head>
    <body>
    <!-- This code connects WebsocketsIO to the index.html file, so it can update the
     display in real-time. -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
        <script>
        var socket = io.connect('http://' + document.domain + ':' + location.port);

        // Waits to receive 'update_data' from socket's emit function in app.py
        // Once it receives it, it runs the function.
        // The parseFloat and toFixed(2) ensure that the data read is a float up to 2 decimal places.
        socket.on('update_data', function(data) {
            
            // Does nothing as of now

            console.log("Received data", data);
        });
        </script>

        <div class = "title">
            <img src="https://sites.tufts.edu/racing/files/2020/04/cropped-newlogo-2.png"
            width="337.5" length="750"/>
        </div>
        
        <h1>Houston - Tufts Racing Telemetry Webapp</h1>
        <!-- Write up-to-date sensor readings here!!! -->
         <style>
            table, th, td {
            border: 1px solid black; border-collapse: collapse;
            }
        </style>
        <div class = "container"> 
            <div class = "readings">
                <div class = "important">
                    <table>
                        <tr>
                            <td>Speed</td>
                            <td>TODO</td>
                        </tr>
                        <tr>
                            <td>Charge</td>
                            <td>TODO</td>
                        </tr>
                    </table>
                </div>
                <div class = "other-wrapper"> </div>
                <div id = "tableContainer" class = "other-readings"></div>
            </div>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
            <div class = "graphs">
                <canvas class="graph" id="graph1"></canvas>
                <!-- <button onclick="clearGraph(g1)">Clear Graph</button> -->
                    <div class = "other">
                        <canvas class="graph" id="graph2"></canvas>
                        <!-- <button onclick="clearGraph(g2)">Clear Graph</button> -->
                        <canvas class="graph" id="graph3"></canvas>
                        <!-- <button onclick="clearGraph(g3)">Clear Graph</button> -->
                    </div>
            </div>
        </div>
        <script src="{{ url_for('static', filename='table.js') }}"></script>
        <script src="{{ url_for('static', filename='graphs.js') }}"></script>
        <script src="{{ url_for('static', filename='buttons.js') }}"></script>
            <div id="sensorExchange" class="modal">
            <div class="modal-content">
                <button class="close-button">&times;</button>
                <h2>Exchange Graphs</h2>
                <p>select sensor data to exchange here...</p>
                <label for="links">Choose an iD for graph 1:</label>

                <select name="links" id="data">
                <option value="">Select</option>
                <option value="1">1</option>
                <option value="36">36</option>
                <option value="37">37</option>
                <option value="38">38</option>
                <option value="39">39</option>
                </select>

                <label for="links"> Choose an iD for graph 2:</label>

                <select name="links" id="data2">
                <option value="">Select</option>
                <option value="1">1</option>
                <option value="36">36</option>
                <option value="37">37</option>
                <option value="38">38</option>
                <option value="39">39</option>
                </select>

                <label for="links"> Choose an iD for graph 3:</label>

                <select name="links" id="data3">
                <option value="">Select</option>
                <option value="1">1</option>
                <option value="36">36</option>
                <option value="37">37</option>
                <option value="38">38</option>
                <option value="39">39</option>
                </select>

                

                
            </div>
            </div>
        </div>
        <button id="openPopup">Open Popup</button>
        <button id="openWeb">Open Web </button>
        
    </body>
</html>